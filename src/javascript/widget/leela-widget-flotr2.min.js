var LEELA;if(LEELA===undefined){LEELA={}}LEELA.f=(function(){var e=function(r){return(r[0])};var h=function(r){return(r[1])};var f=function(s,u,t){var r;for(r in s){if(s.hasOwnProperty(r)){u=t(s[r],u)}}return(u)};var d=function(r){return(r)};var a=function(r,s){s.push(r);return(s)};var q=function(r,s){s.unshift(r);return(s)};var c=function(r,s){return(f(r,[],function(t,u){return(q(s(t),u))}))};var k=function(r){return(f(r,0,function(s,t){return(s+t)}))};var g=function(r){return(f(r,undefined,function(s,t){if(t===undefined){return(s)}return(s>t?t:s)}))};var o=function(r){return(f(r,undefined,function(s,t){if(t===undefined){return(s)}return(s>t?s:t)}))};var p=function(t){var u=Array.prototype.slice.call(t);u.sort();var r=u.length;var s=Math.floor(r/2);if(r%2==0){return((u[s-1]+u[s])/2)}else{return(u[s])}};var j=function(r){return(k(r)/r.length)};var i=function(C,y){var x=[];var s=[];var B;var u=function(r){x.push(r);if(x.length===C){s.push([e(x[0]),k(c(x,h))/C]);x.shift()}return(x)};var w;for(w in y){if(y.hasOwnProperty(w)){var A=y[w];var E=e(A);var D=h(A);u([E,D])}}if(x.length>0){s.push([e(x[0]),k(c(x,h))/x.length])}return(s)};var l=function(r){var s=function(u){var t;for(t in u.results){if(u.results.hasOwnProperty(t)){u.results[t].series=i(r,u.results[t].series)}}return(u)};return(s)};var n=function(s,r){while(s>512&&r.length>1){s=s/1024;r.shift()}return([s,r[0]])};var m=function(v,u,t){var s=v;var r;for(r=0;r<u.length;r+=1){if(s!==undefined&&s.hasOwnProperty(u[r])){s=s[u[r]]}else{return(t)}}return(s)};var b=function(t,s){var r=function(){var u=Array.prototype.slice;return(t(s.apply(null,u.call(arguments))))};return(r)};return({average:l,min:g,max:o,mean:p,avg:j,map:c,snd:h,fst:e,dot:b,getprop:m,id:d,fmt_engineeringscale:n})}());var LEELA;var jQuery;if(LEELA===undefined){LEELA={}}if(LEELA.backend===undefined){LEELA.backend={}}LEELA.widget=function(b,f){var c=f||{};var a=(c.backend||LEELA.backend.flotr2||LEELA.backend.hicharts);var d=a(b.get(0));var g=[];var h=function(n){var j=n.length;var p={};var o;var m;for(o=0;o<j;o+=1){for(m in n[o].results){if(n[o].results.hasOwnProperty(m)){p[m]=n[o].results[m]}}}return({results:p})};var e=function(i){g.push(i);d.render(h(g),{title:c.title||"leela widget",subtitle:c.subtitle||"Powered by locaweb",chart:c.chart,yaxis:c.yaxis,xaxis:c.xaxis,width:c.width||b.width(),height:c.height||b.height(),legend:c.legend})};return({render:e})};var LEELA;if(LEELA===undefined){LEELA={}}if(LEELA.backend===undefined){LEELA.backend={}}LEELA.backend.flotr2=function(k){var o;var d;var j;var l;var i=true;var b=function(p){var q={HtmlText:false,xaxis:{title:LEELA.f.getprop(p,["xaxis","title"]),tickFormatter:LEELA.f.getprop(p,["xaxis","labels","formatter"],Flotr.defaultTickFormatter),mode:"time",timeFormat:"%d %b, %H:%M",timeMode:"local",timeUnit:"second",max:LEELA.f.getprop(p,["xaxis","max"]),min:LEELA.f.getprop(p,["xaxis","min"]),noTicks:p.width/42,labelsAngle:45},yaxis:{autoscale:true,title:LEELA.f.getprop(p,["yaxis","title"]),tickFormatter:LEELA.f.getprop(p,["yaxis","labels","formatter"],Flotr.defaultTickFormatter),max:LEELA.f.getprop(p,["yaxis","max"]),min:LEELA.f.getprop(p,["yaxis","min"])},title:p.title,subtitle:p.subtitle,selection:{mode:"x",fps:30},legend:{position:"nw",container:LEELA.f.getprop(p,["legend","container"],null)}};if(o!==undefined){q.xaxis.min=o[0];q.yaxis.min=o[1];q.xaxis.max=o[2];q.yaxis.max=o[3]}else{if(q.xaxis.max===undefined){delete (q.xaxis.max)}if(q.xaxis.min===undefined){delete (q.xaxis.min)}if(q.yaxis.min===undefined){delete (q.yaxis.min)}if(q.yaxis.max===undefined){delete (q.yaxis.max)}}return(q)};var m=function(){if(d!==undefined&&j!==undefined){Flotr.draw(k,d,b(j))}};var n=function(){if(l!==undefined){clearTimeout(l);l=undefined}l=setTimeout(function(){Flotr.draw(k,d,b(j));l=undefined},(i?100:300))};var e=function(q,s,p,r){o=[q,s,p,r];n()};var g=function(){if(o!==undefined){o=undefined;n()}};Flotr.EventAdapter.observe(k,"flotr:select",function(p){if(Math.abs(p.x2-p.x1)>60){e(p.x1,p.y1,p.x2,p.y2)}});Flotr.EventAdapter.observe(k,"flotr:click",function(){g()});var h=function(C,w,D,F,K,H,v,G,u){var q=(v-K)/(2*(H-F))+(K-D)/(2*(F-w));var p=(u-v)/(2*(G-H))+(v-K)/(2*(H-F));var E=(C-F)/(H-F);var B=E*E;var z=B*E;var J=2*z-3*B+1;var s=z-2*B+E;var I=3*B-(2*z);var r=z-B;var A=J*K+s*(H-F)*q+I*v+r*(H-F)*p;return([C,A])};var a=function(J){var H=[];var G=J.length;var K=25;var B=LEELA.f.min(LEELA.f.map(J,LEELA.f.snd));var E=LEELA.f.max(LEELA.f.map(J,LEELA.f.snd));var C;var w;var p;for(C=0;C<(G-1);C+=1){var v=J[C][0];var t=(J[C-1]||[0])[0];var y=(J[C-1]||[0,0])[1];var A=J[C][0];var I=J[C][1];var F=J[C+1][0];var r=J[C+1][1];var D=(J[C+2]||[0])[0];var q=(J[C+2]||[0,0])[1];var z=(F-A)/K;for(w=0;w<K;w+=1){v+=z;p=h(v,t,y,A,I,F,r,D,q);H.push([p[0],(p[1]>E?E:(p[1]<B?B:p[1]))])}}return(H)};var f=function(x,s,z){var r=[];var t=function(B,D){var C="[";for(var A in D){if(D.hasOwnProperty(A)){C+=A+": "+D[A].toFixed(1)+", "}}return(B+" "+C.substr(0,C.length-2)+"]")};var v=LEELA.f.getprop(z,["chart","labels","formatter"],t);var p;for(p in x.results){if(x.results.hasOwnProperty(p)){var w=LEELA.f.max(LEELA.f.map(x.results[p].series,LEELA.f.snd));var q=LEELA.f.min(LEELA.f.map(x.results[p].series,LEELA.f.snd));var y=LEELA.f.mean(LEELA.f.map(x.results[p].series,LEELA.f.snd));var u=LEELA.f.avg(LEELA.f.map(x.results[p].series,LEELA.f.snd));r.push({label:x.results[p].label||v(p,{max:w,min:q,avg:u,mean:y}),data:s(x.results[p].series)})}}return(r)};var c=function(q,p){var r=LEELA.f.getprop(p,["chart","type"],"spline");d=(r==="spline"?f(q,a,p):f(q,LEELA.f.id,p));j=p;o=undefined;n()};return({render:c,zoomin:e,zoomout:g})};var LEELA;if(LEELA===undefined){LEELA={}}LEELA.version={major:"0",minor:"0",build:"1",version:"0.0.1"};