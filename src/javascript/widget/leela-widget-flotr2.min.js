var LEELA;if(LEELA===undefined){LEELA={}}LEELA.f=(function(){var e=function(q){return(q[0])};var h=function(q){return(q[1])};var f=function(r,t,s){var q;for(q in r){if(r.hasOwnProperty(q)){t=s(r[q],t)}}return(t)};var d=function(q){return(q)};var p=function(q,r){r.unshift(q);return(r)};var c=function(q,r){return(f(q,[],function(s,t){return(p(r(s),t))}))};var j=function(q){return(f(q,0,function(r,s){return(r+s)}))};var g=function(q){return(f(q,undefined,function(r,s){if(s===undefined){return(r)}return(r>s?s:r)}))};var m=function(q){return(f(q,undefined,function(r,s){if(s===undefined){return(r)}return(r>s?r:s)}))};var o=function(s){var t=Array.prototype.slice.call(s);t.sort();var q=t.length;var r=Math.floor(q/2);if(q%2===0){return((t[r-1]+t[r])/2)}return(t[r])};var i=function(q){return(j(q)/q.length)};var n=function(z,x){var w=[];var q=[];var s=function(r){w.push(r);if(w.length===z){q.push(Array.prototype.slice.call(w));w=[]}return(w)};var u;for(u in x){if(x.hasOwnProperty(u)){var y=x[u];var B=e(y);var A=h(y);s([B,A])}}if(w.length>0){q.push(w)}return(q)};var b=function(s,q){var r=function(u){return([e(u[0]),s(c(u,h))])};var t=function(v){var u;for(u in v.results){if(v.results.hasOwnProperty(u)){v.results[u].series=c(n(q,v.results[u].series),r)}}return(v)};return(t)};var l=function(r,q){while(r>512&&q.length>1){r=r/1024;q.shift()}return([r,q[0]])};var k=function(u,t,s){var r=u;var q;for(q=0;q<t.length;q+=1){if(r!==undefined&&r.hasOwnProperty(t[q])){r=r[t[q]]}else{return(s)}}return(r)};var a=function(s,r){var q=function(){var t=Array.prototype.slice;return(s(r.apply(null,t.call(arguments))))};return(q)};return({summarize:b,average:function(q){return(b(i,q))},min:g,max:m,mean:o,avg:i,map:c,snd:h,fst:e,dot:a,getprop:k,id:d,fmt_engineeringscale:l})}());var LEELA;var jQuery;if(LEELA===undefined){LEELA={}}if(LEELA.backend===undefined){LEELA.backend={}}LEELA.widget=function(b,f){var c=f||{};var a=(c.backend||LEELA.backend.flotr2||LEELA.backend.hicharts);var d=a(b.get(0));var g=[];var h=function(n){var j=n.length;var p={};var o;var m;for(o=0;o<j;o+=1){for(m in n[o].results){if(n[o].results.hasOwnProperty(m)){p[m]=n[o].results[m]}}}return({results:p})};var e=function(i){g.push(i);d.render(h(g),{title:c.title||"leela widget",subtitle:c.subtitle||"Powered by locaweb",chart:c.chart,yaxis:c.yaxis,xaxis:c.xaxis,width:c.width||b.width(),height:c.height||b.height(),legend:c.legend})};return({render:e})};var LEELA;if(LEELA===undefined){LEELA={}}if(LEELA.backend===undefined){LEELA.backend={}}LEELA.backend.flotr2=function(k){var o;var d;var j;var l;var i=true;var b=function(p){var q={HtmlText:false,xaxis:{title:LEELA.f.getprop(p,["xaxis","title"]),tickFormatter:LEELA.f.getprop(p,["xaxis","labels","formatter"],Flotr.defaultTickFormatter),mode:"time",timeFormat:"%d %b, %H:%M",timeMode:"local",timeUnit:"second",max:LEELA.f.getprop(p,["xaxis","max"]),min:LEELA.f.getprop(p,["xaxis","min"]),noTicks:p.width/42,labelsAngle:45},yaxis:{autoscale:true,title:LEELA.f.getprop(p,["yaxis","title"]),tickFormatter:LEELA.f.getprop(p,["yaxis","labels","formatter"],Flotr.defaultTickFormatter),max:LEELA.f.getprop(p,["yaxis","max"]),min:LEELA.f.getprop(p,["yaxis","min"])},title:p.title,subtitle:p.subtitle,selection:{mode:"x",fps:30},legend:{position:"nw",container:LEELA.f.getprop(p,["legend","container"],null)}};if(o!==undefined){q.xaxis.min=o[0];q.yaxis.min=o[1];q.xaxis.max=o[2];q.yaxis.max=o[3]}else{if(q.xaxis.max===undefined){delete (q.xaxis.max)}if(q.xaxis.min===undefined){delete (q.xaxis.min)}if(q.yaxis.min===undefined){delete (q.yaxis.min)}if(q.yaxis.max===undefined){delete (q.yaxis.max)}}return(q)};var m=function(){if(d!==undefined&&j!==undefined){Flotr.draw(k,d,b(j))}};var n=function(){if(l!==undefined){clearTimeout(l);l=undefined}l=setTimeout(function(){Flotr.draw(k,d,b(j));l=undefined},(i?100:300))};var e=function(q,s,p,r){o=[q,s,p,r];n()};var g=function(){if(o!==undefined){o=undefined;n()}};Flotr.EventAdapter.observe(k,"flotr:select",function(p){if(Math.abs(p.x2-p.x1)>60){e(p.x1,p.y1,p.x2,p.y2)}});Flotr.EventAdapter.observe(k,"flotr:click",function(){g()});var h=function(C,w,D,F,K,H,v,G,u){var q=(v-K)/(2*(H-F))+(K-D)/(2*(F-w));var p=(u-v)/(2*(G-H))+(v-K)/(2*(H-F));var E=(C-F)/(H-F);var B=E*E;var z=B*E;var J=2*z-3*B+1;var s=z-2*B+E;var I=3*B-(2*z);var r=z-B;var A=J*K+s*(H-F)*q+I*v+r*(H-F)*p;return([C,A])};var a=function(r){var D=[];var v=r.length;var y=25;var q;var F;var I;for(q=0;q<(v-1);q+=1){var C=r[q][0];var B=(r[q-1]||[0])[0];var t=(r[q-1]||[0,0])[1];var w=r[q][0];var p=r[q][1];var A=r[q+1][0];var G=r[q+1][1];var z=(r[q+2]||[0])[0];var E=(r[q+2]||[0,0])[1];var H=(A-w)/y;for(F=0;F<y;F+=1){C+=H;I=h(C,B,t,w,p,A,G,z,E);D.push([I[0],I[1]])}}return(D)};var f=function(t,v,r){var s=[];var u=function(y){var w=LEELA.f.max(LEELA.f.map(t.results[y].series,LEELA.f.snd));var A=LEELA.f.min(LEELA.f.map(t.results[y].series,LEELA.f.snd));var x=LEELA.f.mean(LEELA.f.map(t.results[y].series,LEELA.f.snd));var B=LEELA.f.avg(LEELA.f.map(t.results[y].series,LEELA.f.snd));var z="[";z+="max:  "+w.toFixed(1)+", ";z+="min:  "+A.toFixed(1)+", ";z+="mean: "+x.toFixed(1)+", ";z+="avg:  "+B.toFixed(1)+"]";return(y+" "+z)};var q=LEELA.f.getprop(r,["chart","labels","formatter"],u);var p;for(p in t.results){if(t.results.hasOwnProperty(p)){s.push({label:t.results[p].label||q(p),data:v(t.results[p].series)})}}return(s)};var c=function(q,p){var r=LEELA.f.getprop(p,["chart","type"],"spline");d=(r==="spline"?f(q,a,p):f(q,LEELA.f.id,p));j=p;o=undefined;n()};return({render:c,zoomin:e,zoomout:g})};var LEELA;if(LEELA===undefined){LEELA={}}LEELA.version={major:"0",minor:"0",build:"1",version:"0.0.1"};